{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- https://stackoverflow.com/a/4321512 -->
{{ quiz.get_name_display }}

<br>

<button id="quiz-start-btn" class="btn-ci">Start Quiz</button>

<form id="quiz-form" class="hide full" method="POST" action="{% url 'submit_quiz' quiz.id %}">
    {% csrf_token %}
    <input type="hidden" id="duration" name="duration" value="0">
    <div id="quiz-container">

        {% for question in questions %}
            <hr>
            <p>{{ question.question }}</p>
            {% for choice in question.choices %}
                {% if question.type == "radio" %}
                    <p>
                        <input type="radio" id="q{{ question.id }}-{{ forloop.counter }}" name="q{{ question.id }}" class="choice" value="{{ choice }}" required>
                        <label for="q{{ question.id }}-{{ forloop.counter }}" class="">{{ choice }}</label>
                    </p>
                {% elif question.type == "checkbox" %}
                    <p>
                        <input type="checkbox" id="q{{ question.id }}-{{ forloop.counter }}" name="q{{ question.id }}" class="choice" value="{{ choice }}">
                        <label for="q{{ question.id }}-{{ forloop.counter }}" class=""> - {{ choice }}</label>
                    </p>
                {% elif question.type == "textarea" %}
                    <p>
                        <textarea id="q{{ question.id }}-{{ forloop.counter }}" name="q{{ question.id }}" class="choice" required></textarea>
                    </p>
                {% elif question.type == "number" %}
                    <p>
                        <input type="number" id="q{{ question.id }}-{{ forloop.counter }}" name="q{{ question.id }}" min="1" max="99" class="choice" required>
                    </p>
                {% elif question.type == "url" %}
                    <p>
                        <input type="url" id="q{{ question.id }}-{{ forloop.counter }}" name="q{{ question.id }}" class="choice" required>
                    </p>
                {% else %}
                    <p>
                        <input type="text" id="q{{ question.id }}-{{ forloop.counter }}" name="q{{ question.id }}" class="choice" required>
                    </p>
                {% endif %}
            {% endfor %}
        {% endfor %}

    </div>
    <hr>
    <button type="submit" id="quiz-submit-btn" class="btn-ci">Submit</button>
</form>

<span id="thank-you" class="hide full">Thank You for submitting your Quiz!</span>

{% endblock %}


{% block js %}
    <script src="{% static 'js/quiz.js' %}"></script>
{% endblock %}
